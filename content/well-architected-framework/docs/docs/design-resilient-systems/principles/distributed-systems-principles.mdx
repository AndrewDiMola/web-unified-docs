---
page_title: Design resilient systems
description: Learn how to design resilient systems.
---

# Consider distributed systems principles

There is significant overlap between the design of distributed systems and fault-tolerant systems as several fault-tolerant mechanisms are inherently distributed. Fault-tolerant designs use a range of concepts and techniques associated with distributed systems, such as consensus algorithms, redundancy, and state replication.

You should consider the following key principles of distributed systems when you are designing fault-tolerant applications and infrastructure.

<Tip>

These distributed systems concepts and considerations apply to Consul, Nomad, and Vault.

</Tip>

## Identify potential faults

As you design a fault-tolerant system, your starting point should be to identify the types of failures which are possible, their effects, and mitigation strategies. Consider the following common faults in your designs:

- Hardware failures in compute or storage systems
- Software bugs that cause outages or otherwise block production
- Network partitions between datacenters or individual cluster nodes
- Upgrade issues that introduce regressions or unexpected configuration issues

HashiCorp Consul resources:

- [Fault Injection](/consul/docs/troubleshoot/fault-injection)
- [Provide fault tolerance with redundancy zones](/consul/tutorials/operate-consul/redundancy-zones)

HashiCorp Nomad resources:

- [Failure scenarios](/nomad/tutorials/enterprise/production-reference-architecture-vm-with-consul#failure-scenarios)

HashiCorp Vault resources:

- [Set up fault tolerance with Vault redundancy zones](/vault/tutorials/raft/raft-redundancy-zones)

External resources:

- [Design your workload to withstand component failures](https://docs.aws.amazon.com/wellarchitected/latest/reliability-pillar/design-your-workload-to-withstand-component-failures.html)
- [Failure scenarios](https://docs.aws.amazon.com/sap/latest/general/arch-guide-failure-scenarios.html)

## Implement redundancy and replication

Your fault-tolerant system design can benefit from redundancy in key hardware and software components to ensure maximum availability and ideal user experience. State replication enables availability and performance by ensuring that a system can continue to operate when components fail.

Some ways in which you can build redundancy into your designs include:

- Duplicate critical service instances
- Redundant data storage solutions from different vendors
- Several network paths for communications

HashiCorp Consul resources:

- [Consul Multi-Cluster reference architecture](/consul/tutorials/production-multi-cluster/multi-cluster-reference-architecture)

HashiCorp Nomad resources:

- [Federation](/nomad/docs/architecture/cluster/federation)

HashiCorp Vault resources:

- [Vault multi-cluster architecture guide](/vault/tutorials/day-one-raft/multi-cluster-architecture)
- [Performance replication](/vault/docs/enterprise/replication#performance-replication)
- [Enable Performance Replication](/vault/tutorials/enterprise/performance-replication)
- [Disaster recovery (DR) replication](/vault/docs/enterprise/replication#disaster-recovery-dr-replication)
- [Recover from catastrophic failure with disaster recovery replication](/vault/tutorials/enterprise/disaster-recovery-replication-failover)

## Use robust networking and communication protocols

Your fault-tolerant applications or infrastructure can benefit from choosing best in class robust networking and communication protocols. Choose solutions which ensure your networks and protocols can survive failure, such as the following:

- Load balancing and distribution solutions
- Network isolation and segmentation techniques
- Caching and content delivery solutions
- Reliable multicast networking
- Connection-oriented networking and service mesh solutions
- Message queue and buffering solutions

HashiCorp resources:

- [What is zero trust security and zero trust networking?](/well-architected-framework/security/security-zero-trust-video)

### Scale and tune performance

Scale and performance are critical to fault-tolerant systems, and the interplay between them can complex, complementary, and conflicting relationships For example, the same redundant components which enable fault-tolerance can also support load balancing to improve performance. When you geographically distributed replicas for disaster recovery, they can also support latency reduction goals. You can also benefit from excess production capacity need for fault-tolerance to offer extra performance headroom.

Some examples of conflicting relationships and trade-offs between fault-tolerance and performance include consistency versus performance; stronger consistency guarantees for fault-tolerance often require extra network round trips. Synchronous replication for durability can affect latency, and complex recovery mechanisms can slow down regular operations. Resource overhead for redundancy results in costs which can further improve performance, health checking and monitoring consumer processing and bandwidth, while state synchronization adds network overhead.

Examples of design strategies you can use for scale and performance include:

- **Bulkheads and circuit breakers**: To isolate components so that failures do not cascade, implement back-pressure mechanisms to prevent overload, and design for graceful degradation.
- **Caching and state management**: To improve resilience and performance with local state to reduce network dependency, and cache hierarchies to offer fallback options.
- **Monitoring and adaptation**: To catch potential failures, and inform automatic scaling and recovery systems which respond to overload and failure. Your capacity planning should account for both regular operation and operation in different failure modes.
- **Testing and validation**: Load test and include testing of failure scenarios. Use chaos engineering principles to help understand behavior at scale. Include recovery scenarios in your performance benchmarks.

HashiCorp Consul resources:

- [Operating Consul at Scale](/consul/docs/manage/scale)
- [Enhanced Read Scalability with Read Replicas](/consul/docs/manage/scale/read-replica)
- [Scale Consul DNS](/consul/docs/discover/dns/scale)
- [Monitor Consul server health and performance with metrics and logs](/consul/tutorials/observe-your-network/server-metrics-and-logs)

HashiCorp Nomad resources:

- [Autopilot](/nomad/docs/manage/autopilot)
- [Horizontal cluster autoscaling](/nomad/tutorials/autoscaler/horizontal-cluster-scaling)
- [On-demand batch job cluster autoscaling](/nomad/tutorials/autoscaler/horizontal-cluster-scaling-on-demand-batch)
- [Scale a service](/nomad/tutorials/migrate-monolith/monolith-migration-autoscale)
- [Monitoring Nomad](/nomad/docs/operations/monitoring-nomad)
- [Nomad Autoscaler Telemetry](/nomad/tools/autoscaling/telemetry)

HashiCorp Vault resources:

- [Tune server performance](/vault/tutorials/archive/performance-tuning)
- [Vault telemetry](/vault/docs/internals/telemetry)

HashiCorp resources:

- [React to metrics and monitoring](/well-architected-framework/reliability/reliability-react-to-monitoring)
- [Manage infrastructure and service monitoring](/well-architected-framework/reliability/reliability-deploy-application-monitoring-components)

External resources:

- [What is chaos engineering?](https://www.ibm.com/think/topics/chaos-engineering)
- [Principles of chaos engineering](https://principlesofchaos.org/)

## Next steps

TODO