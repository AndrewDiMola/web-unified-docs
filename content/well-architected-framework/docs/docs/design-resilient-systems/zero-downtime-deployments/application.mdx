---
page_title: Application
description: Learn how to deploy new versions of your infrastructure and applications without downtime.
---

# Application changes

Application changes can use blue/green, canary, rolling, or a combination of the
three. Your deployment method depends on if you use virtual machines or
containers, along with the criticality of your application

## Load balancers and proxies

Load balancers and reverse proxies can manage your application by directing
traffic between your blue and green environments. They can then direct a subset
of users for canary deployments and testing and control traffic for rolling
deployments.

Regardless of your cloud provider, you can use Terraform to manage the
deployment and control of load balancers and proxies.

HashiCorp resources:
- Read the [use Application Load Balancers for blue-green and canary deployments](/terraform/tutorials/aws/blue-green-canary-tests-deployments?utm_source=WEBSITE&utm_medium=WEB_BLOG&utm_offer=ARTICLE_PAGE) tutorial.

External resources:
- [AWS Fine-tuning blue/green deployments on application load balancer](https://aws.amazon.com/blogs/devops/blue-green-deployments-with-application-load-balancer/)
- [Using AWS Load Balancer Controller for blue/green deployment, canary deployment and A/B testing](https://aws.amazon.com/blogs/containers/using-aws-load-balancer-controller-for-blue-green-deployment-canary-deployment-and-a-b-testing/)
- [Azure Blue-Green deployments using Azure Traffic Manager](https://azure.microsoft.com/en-us/blog/blue-green-deployments-using-azure-traffic-manager/)
- [F5 Flexible Load Balancing for Blue/Green Deployments and Beyond](https://www.f5.com/resources/solution-guides/flexible-load-balancing-for-blue-green-deployments-and-beyond)

## Non-containerized applications

Using a blue/green or rolling deployment is a good approach if you are deploying
applications on virtual machines.

Blue/green deployments deploys your new application version to your new green
environment. Once you deploy your application, you can start testing the new
version in-house, and once you deem it ready, you can switch production traffic
over to it.

For high-impact applications, we advise incorporating canary testing into your
blue/green deployment strategy. This testing method allows you to validate your
new version before fully transitioning your traffic, ensuring a stable and
desired user experience.

The following is an example of canary testing your green environment:

After the green environment is ready, the load balancer sends a small fraction
of the traffic to the green environment (in this example, 10%).

![Canary test/deployment. All traffic is directed to the blue environment initially. When you perform a canary test, 10% of the traffic is directed to the green environment.](/img/terraform/blue-green-canary-tests-deployments/canary-deployment.png)

If the canary test succeeds without errors, you can incrementally direct traffic
to the green environment (50/50 â€” split traffic) over time. In the end state,
you redirect all traffic to the green environment. After verifying the new
deployment, you can destroy the old blue environment. The green environment is
now your current production service.

![Rolling deployment. After the initial canary test, traffic to the green environment is split evenly with the blue environment (50/50). Finally, all traffic is directed to the green environment.](/img/terraform/blue-green-canary-tests-deployments/rolling-deployment.png)

## Containerized applications

Containers can use rolling, blue/green, and canary deployments, either through
orchestration tools like Nomad and Kubernetes.

Rolling deployments are a popular strategy for deploying applications using
orchestration systems. With rolling deployments, the orchestrator gradually
replaces old instances with new ones. Once the new instances are available and
pass health checks, the orchestrator can direct traffic to the new instances and
then destroy the old instances.

Nomad supports rolling updates as a first-class feature. To enable rolling
updates, you can annotate a job or task group with a high-level description of
the update strategy using the `update` block.

Kubernetes by default uses rolling updates. Kubernetes does this by
incrementally replacing current pods with new ones. The new Pods are scheduled
on Nodes with available resources, and Kubernetes waits for those new Pods to
start before removing the old Pods.

As described in [infrastructure-changes](#infrastructure-changes), both Nomad
and Kubernetes support blue/green deployments. Before sending all your traffic
to your new cluster, you can use canary testing to ensure the new cluster is
working as intended.

HashiCorp resources:
- Learn how to use blue/green deployments with the [Nomad blue/green and canary deployments](/nomad/tutorials/job-updates/job-blue-green-and-canary-deployments#blue-green-deployments) tutorial.
- To learn about Nomad rolling updates, refer to the [Nomad's Rolling updates](/nomad/tutorials/job-updates/job-rolling-update) tutorial.
- Learn about Nomad's `update` block. The [update strategy](/nomad/docs/job-specification/update) is used to control things like rolling upgrades and canary deployments.

External resources:
- [Kubernetes - Performing a rolling update](https://kubernetes.io/docs/tutorials/kubernetes-basics/update/update-intro/)