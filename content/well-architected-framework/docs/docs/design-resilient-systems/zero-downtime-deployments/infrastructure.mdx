---
page_title: Infrastructure
description: Learn how to deploy new versions of your infrastructure and applications without downtime.
---

# Infrastructure changes

Properly managing changes to your infrastructure, such updating network policies
or upgrading your Kubernetes cluster, is important to ensure the reliability of
your upgraded application and achieve zero-downtime deployments.

Blue/green deployments are good for deploying your application on a new
infrastructure. Blue/green deployments require two identical application
infrastructure environments, a method for deploying your application to your two
environments, and a way to route your traffic between them.

The following diagram shows a basic blue/green deployment. The blue environment
is the infrastructure where your current application runs. The green environment
is identical except you upgraded it to host the new version of the application.
This environment can be a set of servers or a new cluster running a new AMI or
container.

![Typical blue green deployment. The green environment is provisioned in parallel with the blue environment. When the green environment is ready, the load balancer directs traffic to the green environment.](/img/terraform/blue-green-canary-tests-deployments/blue-green-deployment.png)

Your blue and green environments need to be as similar as possible.
Infrastructure as code (IaC) lets you describe your environment as code and
consistently deploy identical environments.

IaC makes your operations more cost-effective by allowing you to easily build
and remove resources when you do not need them. Using IaC also lets you spin up
your green environment whenever you need it. Instead of letting your blue and
green environments persist indefinitely or allocating time to build them, you
can deploy your green infrastructure environment when you want to deploy your
new software application. Once your green environment is stable, you can tear
down your blue environment. 

HashiCorp's Terraform is an infrastructure as code tool that can help you deploy
and manage  blue/green infrastructure environments. By using Terraform modules,
you can consistently deploy identical infrastructure using the same code but
different environments through variables. You can also define feature toggles in
your Terraform code to create a blue and green deployment environment
simultaneously. You can then test your application in your new green
environment, and then when you are ready, set the toggle in your code to destroy
your blue environment. 

HashiCorp resources:
- Read the [use Application Load Balancers for blue-green and canary deployments](/terraform/tutorials/aws/blue-green-canary-tests-deployments) tutorial.
- [Feature Toggles, Blue-Green Deployments & Canary Tests with Terraform](https://www.hashicorp.com/blog/terraform-feature-toggles-blue-green-deployments-canary-test) blog by Rosemary Wang

External resources:
- [Blue Green Deployment](https://martinfowler.com/bliki/BlueGreenDeployment.html) blog by Martin Fowler 
- [Continuous Blue-Green Deployments With Kubernetes](https://semaphoreci.com/blog/continuous-blue-green-deployments-with-kubernetes) blog by Tomas Fernandez